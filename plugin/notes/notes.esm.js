var e;e=function(){var e;e=function(){var e=function(){var e=null;function t(t){if(!e||e.closed){if(!t){var n=document.querySelector('script[src$="notes.js"]').src;t=(n=n.replace(/notes\.js(\?.*)?$/,""))+"notes.html"}var a;(e=window.open(t,"reveal.js - Notes","width=1100,height=700"))?(a=setInterval((function(){e.postMessage(JSON.stringify({namespace:"reveal-notes",type:"connect",url:window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,state:Reveal.getState()}),"*")}),500),window.addEventListener("message",(function(t){var n,r,s,i,d=JSON.parse(t.data);d&&"reveal-notes"===d.namespace&&"connected"===d.type&&(clearInterval(a),Reveal.addEventListener("slidechanged",o),Reveal.addEventListener("fragmentshown",o),Reveal.addEventListener("fragmenthidden",o),Reveal.addEventListener("overviewhidden",o),Reveal.addEventListener("overviewshown",o),Reveal.addEventListener("paused",o),Reveal.addEventListener("resumed",o),o()),d&&"reveal-notes"===d.namespace&&"call"===d.type&&(n=d.methodName,r=d.arguments,s=d.callId,i=Reveal[n].apply(Reveal,r),e.postMessage(JSON.stringify({namespace:"reveal-notes",type:"return",result:i,callId:s}),"*"))}))):alert("Speaker view popup failed to open. Please make sure popups are allowed and reopen the speaker view.")}else e.focus();function o(t){var n=Reveal.getCurrentSlide(),a=n.querySelector("aside.notes"),o=n.querySelector(".current-fragment"),r={namespace:"reveal-notes",type:"state",notes:"",markdown:!1,whitespace:"normal",state:Reveal.getState()};if(n.hasAttribute("data-notes")&&(r.notes=n.getAttribute("data-notes"),r.whitespace="pre-wrap"),o){var s=o.querySelector("aside.notes");s?a=s:o.hasAttribute("data-notes")&&(r.notes=o.getAttribute("data-notes"),r.whitespace="pre-wrap",a=null)}a&&(r.notes=a.innerHTML,r.markdown="string"==typeof a.getAttribute("data-markdown")),e.postMessage(JSON.stringify(r),"*")}}return{init:function(){/receiver/i.test(window.location.search)||(null!==window.location.search.match(/(\?|\&)notes/gi)&&t(),Reveal.addKeyBinding({keyCode:83,key:"S",description:"Speaker notes view"},(function(){t()})))},open:t}}();Reveal.registerPlugin("notes",e)},"function"==typeof define&&define.amd?define(e):e()},"function"==typeof define&&define.amd?define(e):e();
