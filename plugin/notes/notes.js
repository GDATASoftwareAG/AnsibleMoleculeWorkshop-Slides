!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e;e=function(){var e;e=function(){var e;e=function(){var e;e=function(){var e;e=function(){var e=function(){var e=null;function t(t){if(!e||e.closed){if(!t){var n=document.querySelector('script[src$="notes.js"]').src;t=(n=n.replace(/notes\.js(\?.*)?$/,""))+"notes.html"}var a;(e=window.open(t,"reveal.js - Notes","width=1100,height=700"))?(a=setInterval((function(){e.postMessage(JSON.stringify({namespace:"reveal-notes",type:"connect",url:window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,state:Reveal.getState()}),"*")}),500),window.addEventListener("message",(function(t){var n,o,r,s,d=JSON.parse(t.data);d&&"reveal-notes"===d.namespace&&"connected"===d.type&&(clearInterval(a),Reveal.addEventListener("slidechanged",i),Reveal.addEventListener("fragmentshown",i),Reveal.addEventListener("fragmenthidden",i),Reveal.addEventListener("overviewhidden",i),Reveal.addEventListener("overviewshown",i),Reveal.addEventListener("paused",i),Reveal.addEventListener("resumed",i),i()),d&&"reveal-notes"===d.namespace&&"call"===d.type&&(n=d.methodName,o=d.arguments,r=d.callId,s=Reveal[n].apply(Reveal,o),e.postMessage(JSON.stringify({namespace:"reveal-notes",type:"return",result:s,callId:r}),"*"))}))):alert("Speaker view popup failed to open. Please make sure popups are allowed and reopen the speaker view.")}else e.focus();function i(t){var n=Reveal.getCurrentSlide(),a=n.querySelector("aside.notes"),i=n.querySelector(".current-fragment"),o={namespace:"reveal-notes",type:"state",notes:"",markdown:!1,whitespace:"normal",state:Reveal.getState()};if(n.hasAttribute("data-notes")&&(o.notes=n.getAttribute("data-notes"),o.whitespace="pre-wrap"),i){var r=i.querySelector("aside.notes");r?a=r:i.hasAttribute("data-notes")&&(o.notes=i.getAttribute("data-notes"),o.whitespace="pre-wrap",a=null)}a&&(o.notes=a.innerHTML,o.markdown="string"==typeof a.getAttribute("data-markdown")),e.postMessage(JSON.stringify(o),"*")}}return{init:function(){/receiver/i.test(window.location.search)||(null!==window.location.search.match(/(\?|\&)notes/gi)&&t(),Reveal.addKeyBinding({keyCode:83,key:"S",description:"Speaker notes view"},(function(){t()})))},open:t}}();Reveal.registerPlugin("notes",e)},"function"==typeof define&&define.amd?define(e):e()},"function"==typeof define&&define.amd?define(e):e()},"function"==typeof define&&define.amd?define(e):e()},"function"==typeof define&&define.amd?define(e):e()},"function"==typeof define&&define.amd?define(e):e()}));
